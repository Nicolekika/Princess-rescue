:root { --bg:#fff9fc; --ink:#3a2f35; --line:#f2d9e8; --panel:#ffffffcc; --pill:#f7e7f1; --cta:#f9dff0; --shadow:0 10px 30px rgba(125,89,110,.12); }
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,var(--bg),#ffeef7);font-family:ui-rounded,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--ink)}
.topbar{position:sticky;top:0;background:rgba(255,255,255,.65);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);padding:10px 12px;display:flex;justify-content:space-between;z-index:5}
.brand{font-weight:800}
.pill{background:var(--pill);border:1px solid var(--line);border-radius:999px;padding:8px 12px;cursor:pointer;box-shadow:var(--shadow)}
.pill.small{padding:6px 10px;font-size:.9rem}
.cta{background:var(--cta);border:none;border-radius:12px;padding:10px 14px;cursor:pointer;box-shadow:var(--shadow);font-weight:700}
.ghost{background:transparent;border:1px solid var(--line);border-radius:12px;padding:10px 14px;cursor:pointer}
.wrap{max-width:1000px;margin:0 auto;padding:16px;position:relative}
.game-wrap{position:relative}
canvas{width:100%;height:auto;border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);background:#fff0f6}
.hud{position:absolute;top:16px;left:16px;display:flex;gap:10px;background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:6px 10px;align-items:center}
.stat{font-weight:700;color:#6b5b64}
.ft{margin:18px 0 6px;text-align:center;opacity:.8}
dialog::backdrop{background:rgba(0,0,0,.35)} dialog{border:none;border-radius:16px;padding:0}
dialog .sheet{background:#fff;padding:16px;min-width:min(520px,92vw);border-radius:16px}
dialog .sheet.center{text-align:center}
.rescue .scene{height:160px;border:1px dashed var(--line);border-radius:12px;display:grid;place-items:center;background:linear-gradient(180deg,#fff,#ffeef7)}
.rescue .princess{font-weight:800;color:#e06aa6;text-shadow:1px 1px #fff}
.touch{position:absolute;left:0;right:0;bottom:12px;display:flex;justify-content:space-between;align-items:flex-end;padding:0 14px;gap:12px;pointer-events:none}
.tbtn{pointer-events:auto;border:none;border-radius:16px;background:rgba(255,255,255,.5);backdrop-filter:blur(6px);width:74px;height:74px;font-size:28px;box-shadow:var(--shadow)}
.tbtn.jump{width:86px;height:86px}
@media(min-width:900px){.touch{display:none}}
